<!DOCTYPE html>
<html>
<head>
    <!-- Head -->
    <title>Express Hello World Test by Cadecraft</title>
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
    <!-- Scripts -->
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <h1>Express Hello World Test by Cadecraft</h1>
    <span id="connection-counter">?</span> connections!
    <br><button id="click-button">Click here</button> Clicked <span id="click-counter">?</span> times!

    <script defer>
        // Connection
        var socket = io();
        // Updates bindings
        socket.on('update_totalClicks', function(newTotalClicks) {
            document.getElementById('click-counter').innerText = ""+newTotalClicks;
        });
        socket.on('update_totalUsers', function(newTotalUsers) {
            document.getElementById('connection-counter').innerText = ""+newTotalUsers;
        });
        // Button bindings
        document.getElementById('click-button').addEventListener('click', function() {
            socket.emit('clickedButton', 1);
        });
        // Update from the server once loaded
        socket.emit('request_updateAll');
    </script>
</body>
</html>